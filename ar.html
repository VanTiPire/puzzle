<html>
<head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script
        src="https://rawgit.com/nicolocarpignoli/nicolocarpignoli.github.io/master/ar-click-events/events.js"></script>
    <script>
        AFRAME.registerComponent('markerhandler', {
            init: function () {
                const planes = document.querySelectorAll('.clickable');
                
                planes.forEach((plane) => {
                    plane.addEventListener('click', function () {
                        const scale = plane.getAttribute('scale');
                        // Increasing the scale of the plane by 1 on each click
                        plane.setAttribute('scale', {
                            x: scale.x + 1,
                            y: scale.y + 1,
                            z: scale.z + 1
                        });
                    });
                });
            }
        });
    </script>
</head>

<body style="margin : 0px; overflow: hidden;">
    <div style='top: 10px;text-align: center; z-index: 1; color: grey'>
        Try pinching, panning, and swiping (left/right)<br>
        Works with a hiro marker.
    </div>
    <a-scene renderer="logarithmicDepthBuffer: true; colorManagement: true" embedded arjs>
        <!-- Adding a cursor for detecting clicks -->
        <a-marker markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" type='barcode'
            value='6' preset="hiro" controller>
            <!-- 2x2 Grid of Planes with class 'clickable' for cursor interaction -->
            <a-plane class="clickable" position="-0.5 0.5 0" rotation="-90 0 0" width="0.5" height="0.5"
                color="red"></a-plane>
            <a-plane class="clickable" position="0.5 0.5 0" rotation="-90 0 0" width="0.5" height="0.5"
                color="blue"></a-plane>
            <a-plane class="clickable" position="-0.5 0.5 1" rotation="-90 0 0" width="0.5" height="0.5"
                color="green"></a-plane>
            <a-plane class="clickable" position="0.5 0.5 1" rotation="-90 0 0" width="0.5" height="0.5"
                color="yellow"></a-plane>

            <!-- Image elements displayed in AR -->
            <a-image id="image1" src="images/image1.jpg" position="0 1 0" scale="2 2 2" visible="false"
                image-display></a-image>
            <a-image id="image2" src="images/image1.jpg" position="0 1 0" scale="2 2 2" visible="false"
                image-display></a-image>
            <a-image id="image3" src="images/image1.jpg" position="0 1 0" scale="2 2 2" visible="false"
                image-display></a-image>
            <a-image id="image4" src="images/image1.jpg" position="0 1 0" scale="2 2 2" visible="false"
                image-display></a-image>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</body>
</html>
